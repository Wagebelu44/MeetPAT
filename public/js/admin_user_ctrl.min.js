function checkForm(e){e.addEventListener("onsubmit",function(e){e?console.log(e):console.log("form submited")})}function validateEmail(e){var s=$(e),a=s.val(),t=s[0].dataset.user;if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())){s.removeClass("is-invalid"),s.addClass("is-valid"),s[0].setCustomValidity(""),$("#save_changes_uid_"+t).prop("disabled",!1);const e=new XMLHttpRequest,i="/api/meetpat-admin/users/unique-email";e.overrideMimeType("application/json");var n="email="+a+"&user_id="+t;e.open("POST",i,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(n),e.onload=function(){var a=JSON.parse(e.responseText);"true"==a.email_used?($(".modal-mesage-container_email_taken_"+t).css("display","block"),s.removeClass("is-valid"),s.addClass("is-invalid"),$("#save_changes_uid_"+t).prop("disabled",!0)):($(".modal-mesage-container_email_taken_"+t).css("display","none"),s.removeClass("is-invalid"),s.addClass("is-valid"),$("#save_changes_uid_"+t).prop("disabled",!1)),console.log(a)}}else s.addClass("is-invalid"),s[0].setCustomValidity("email is invalid"),$("#save_changes_uid_"+t).prop("disabled",!0)}function validatePassword(e){var s=$(e),a=s.val(),t=s[0].dataset.user;s.removeClass("is-valid"),s.removeClass("is-invalid"),/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(String(a))||""==a?(s.removeClass("is-invalid"),s.addClass("is-valid"),s[0].setCustomValidity(""),$("#save_changes_uid_"+t).prop("disabled",!1)):(s.addClass("is-invalid"),s.removeClass("is-valid"),s[0].setCustomValidity("Password is invalid"),$("#save_changes_uid_"+t).prop("disabled",!0))}function validateRequired(e){var s=$(e),a=e.dataset.user;0===s.val().length?(s.addClass("is-invalid"),s.removeClass("is-valid"),s[0].setCustomValidity("field is required"),$("#save_changes_uid_"+a).prop("disabled",!0)):(s.removeClass("is-invalid"),s.addClass("is-valid"),s[0].setCustomValidity(""),$("#save_changes_uid_"+a).prop("disabled",!1))}function generatedPassword(e){var s=$("#PasswordInput_"+e),a=s[0].dataset.user;s.removeClass("is-invalid"),s.addClass("is-valid"),s[0].setCustomValidity(""),$("#save_changes_uid_"+a).prop("disabled",!1)}function change_status(e){$("#loader").css("display","block"),$(".message-container").empty();const s=new XMLHttpRequest;s.overrideMimeType("application/json");var a="user_id="+e.dataset.user;s.open("POST","/api/meetpat-admin/users/active-status-change",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(a),s.onload=function(){var a=JSON.parse(s.responseText);"client"==a.user_type?($("i",e).removeClass(),0==a.user_was_active?$("i",e).addClass("fas fa-toggle-on"):$("i",e).addClass("fas fa-toggle-off"),$(".message-container").prepend('<div id="AlertBoxTemp" class="alert alert-success alert-dismissible fade show" role="alert">\n                            <strong>Success!</strong> The active status of the selected user has been changed\n                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>')):$(".message-container").prepend('<div id="AlertBoxTemp" class="alert alert-danger alert-dismissible fade show" role="alert">\n                            <strong>Error!</strong> There is an issue with changing the status of the selected users. Please contact support.\n                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>')},s.onreadystatechange=function(){4===s.readyState&&(console.log("request complete"),$("#loader").css("display","none"))}}function saveChanges(e){$("#loader").css("display","block"),$(".message-container").empty();const s=new XMLHttpRequest;s.overrideMimeType("application/json");var a,t=$("input[name='user_id'] ",e).val(),n=$("input[name='user_name'] ",e).val(),i=$("input[name='user_email'] ",e).val(),d=$("input[name='new_password'] ",e).val(),o=$("input[name='send_mail'] ",e).is(":checked"),l="user_id="+t+"&user_name="+n+"&user_email="+i+"&new_password="+d+"&send_mail="+o;s.open("POST","/api/meetpat-admin/users/edit",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onload=function(){"true"==(a=JSON.parse(s.responseText)).email_valid&&"true"==a.user_name_valid?("true"==a.password_change&&"false"==a.password_valid?($("input[name='new_password'] ",e).addClass("is-invalid"),$(".modal-mesage-container_"+a.users_id).css("display","block")):$("#EditUser_"+t).modal("hide"),"true"==a.sent_mail?$(".message-container").prepend('<div id="AlertBoxTemp" class="alert alert-success alert-dismissible fade show" role="alert">\n                                                <strong>Success!</strong> Changes to the selected user has been saved and an email has been sent.\n                                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                                                <span aria-hidden="true">&times;</span>\n                                                </button>\n                                                </div>'):$(".message-container").prepend('<div id="AlertBoxTemp" class="alert alert-success alert-dismissible fade show" role="alert">\n                                                <strong>Success!</strong> Changes to the selected user has been saved.\n                                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                                                <span aria-hidden="true">&times;</span>\n                                                </button>\n                                                </div>')):$(".modal-mesage-container_"+a.users_id).css("display","block"),console.log(a)},s.onreadystatechange=function(){4===s.readyState&&(console.log("request complete"),$("#loader").css("display","none"))},s.send(l)}function deleteUser(e){$("#loader").css("display","block");var s=e.dataset.user;const a=new XMLHttpRequest;a.overrideMimeType("application/json"),a.open("POST","/api/meetpat-admin/users/delete",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),params="user_id="+s,a.send(params),a.onload=function(){var e=JSON.parse(a.responseText);$("#DeleteUser__"+s).modal("hide"),$(".message-container").empty(),1==e.deleted?$(".message-container").prepend('<div id="AlertBoxTemp" class="alert alert-success alert-dismissible fade show" role="alert">\n                                                <strong>Success!</strong> The selected user has been deleted.\n                                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                                                <span aria-hidden="true">&times;</span>\n                                                </button>\n                                                </div>'):$(".message-container").prepend('<div id="AlertBoxTemp" class="alert alert-danger alert-dismissible fade show" role="alert">\n                                                <strong>Error!</strong> The selected user could not be deleted.\n                                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                                                <span aria-hidden="true">&times;</span>\n                                                </button>\n                                                </div>')},a.onreadystatechange=function(){4===a.readyState&&(console.log("request complete"),location.reload(!0))}}function viewPassword(e){var s=e.dataset.user,a=$("#PasswordInput_"+s),t=$("i","#ViewPassword_"+s);"password"==a.attr("type")?(a.attr({type:"text"}),t.removeClass(),t.addClass("fas fa-eye-slash")):(a.attr({type:"password"}),t.removeClass(),t.addClass("fas fa-eye"))}function generatePassword(e){var s=e.dataset.user;const a=new XMLHttpRequest;a.overrideMimeType("application/json"),a.open("GET","/api/meetpat-admin/generate-password",!0),a.send(),a.onload=function(){var e=JSON.parse(a.responseText);$("#PasswordInput_"+s).val(e.password),$("#PasswordInput_"+s).removeClass("is-invalid"),$("#PasswordInput_"+s).removeClass("is-valid"),$("#PasswordInput_"+s).addClass("is-valid"),$("#save_changes_uid_"+s).prop("disabled",!1)}}